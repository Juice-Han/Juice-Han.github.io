---
title: Java의 문자열 리터럴과 String 객체는 무슨 차이가 있을까?
date: 2024-06-25 15:32:00 +0900
description: 비슷한 듯 다른 문자열 리터럴과 String 객체에 대해 알아보자
categories: [Java]
tags: [Java]
---

## String 객체와 문자열 리터럴

Java에는 여러가지 데이터 타입이 존재한다.

그 데이터 타입에는 정수형(int), 실수형(double), 문자형(char) 등이 있다.

오늘 알아볼 String은 클래스형 타입으로 간단하게 말해서 `문자열`을 다루는 타입이다.

String 클래스를 통해 문자열 데이터를 담는 변수를 선언할 수 있고, 또한 클래스이기 때문에 문자열 객체도 생성이 가능하다.

```java
String s1 = new String("hello"); // String 클래스를 통해 생성한 문자열 객체
String s2 = "hello"; // 문자열 리터럴
```

`String 클래스 통해 생성된 문자열 데이터`와 `문자열 리터럴`은 무슨 차이가 있을까?

언뜻 단어만 살펴보면 별 차이가 없어보인다. 하지만 **두 개의 차이점을 모르고 코딩을 한다면 코딩 중 예상치 못한 오류를 맞닥뜨릴 수 있다.**

***

## 예시 코드를 통해 이해하는 String 객체와 문자열 리터럴의 차이

```java
String s1 = "hello world!";
String s2 = "hello world!";
System.out.println(s1 == s2); // true
```

자 이렇게 똑같은 문자열 리터럴 `"hello world!"`를 가리키는 두 String 타입 변수가 있다.

두 개의 변수값이 같은지 확인한다면 true라는 결과값을 얻을 수 있다.

당연한 듯 보이는 결과이다. 하지만 그 속엔 숨어있는 뜻이 있다.

Java에서 `==` 이 뭘 뜻하는 지 먼저 짚고 넘어가보자

### == 비교 연산자가 갖고 있는 의미

Java에서 == 를 통한 비교는 다음과 같은 뜻을 가진다.

>두 변수가 같은 메모리 주소(공간)을 가리키는가?

Java는 **문자열 리터럴을 생성할 때 문자열 풀(String Pool)이라는 공간에 저장**해 놓는데, 새로 선언한 문자열 리터럴과 같은 값이 기존 문자열 풀에 이미 존재한다면, 같은 값을 새로 생성하지 않고 **기존 문자열 리터럴 주소를 공유**하게 만든다.

### 다른 메모리 공간에 생성되는 두 문자열 데이터

자 그러면 다음 코드를 살펴보자

```java
String s1 = new String("hello world!");
String s2 = "hello world!";
System.out.println(s1 == s2); // false
```

이번엔 두 개의 변수값이 같은 지 확인한다면 false라는 결과값을 얻게 된다.

조금 이상하다. 분명히 "hello world!"라는 같은 문자열을 담고 있는데, 왜 다르다는 결과가 나올까?

그 이유는 **String 객체를 통해 생성한 문자열 데이터는 `힙(Heap)`이라는 공간에 생성**되기 때문이다. 문자열 풀과는 별개의 공간이다.

위에서 설명한대로 `==` 비교연산자는 두 변수가 가리키는 데이터의 주소가 같은지 다른지 비교하기 때문에, 다른 공간에 생성된 두 데이터의 주소가 다르므로 false라는 값을 리턴하게 된 것이다.

### 내 의도대로 문자열 값을 비교하고 싶다면

== 비교는 두 변수가 가리키는 주소를 비교하므로 문자열 값 자체를 비교하고 싶다면 String 클래스의 `equals()` 함수를 활용하면 된다.

```java
String s1 = new String("hello world!");
String s2 = "hello world!";
System.out.println(s1.equal(s2)); // true
```

이렇게 하면 의도한대로 문자열 값을 비교하므로 true라는 결과값이 나오게 된다.

***

## 결론

문자열 리터럴은 `문자열 풀(String Pool)`이라는 공간에 생성되고, String 클래스를 통해 생성한 문자열 객체는 `힙(Heap)`이라는 공간에 생성된다는 특징을 항상 기억하며 코딩하자!